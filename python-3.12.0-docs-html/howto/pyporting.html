
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="How to port Python 2 Code to Python 3" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/howto/pyporting.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="auteur, Brett Cannon,. Résumé: Python 2 reached its official end-of-life at the start of 2020. This means that no new bug reports, fixes, or changes will be made to Python 2 - it's no longer suppor..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="auteur, Brett Cannon,. Résumé: Python 2 reached its official end-of-life at the start of 2020. This means that no new bug reports, fixes, or changes will be made to Python 2 - it's no longer suppor..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>How to port Python 2 Code to Python 3 &#8212; Documentation Python 3.12.0</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=b37c26da2f7529d09fe70b41c4b2133fe4931a90" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Recherchez dans Documentation Python 3.12.0"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Portage des modules d&#39;extension vers Python 3" href="cporting.html" />
    <link rel="prev" title="Les HOWTOs de Python" href="index.html" />
    <link rel="canonical" href="https://docs.python.org/3/howto/pyporting.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" />
                <input type="submit" value="Go"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#">How to port Python 2 Code to Python 3</a><ul>
<li><a class="reference internal" href="#the-short-explanation">La version courte</a></li>
<li><a class="reference internal" href="#details">Détails</a><ul>
<li><a class="reference internal" href="#different-versions-of-python-2">Different versions of Python 2</a></li>
<li><a class="reference internal" href="#make-sure-you-specify-the-proper-version-support-in-your-setup-py-file">Assurez vous de spécifier la bonne version supportée dans le fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code></a></li>
<li><a class="reference internal" href="#have-good-test-coverage">Obtenir une bonne couverture de code</a></li>
<li><a class="reference internal" href="#be-aware-of-the-differences-between-python-2-and-3">Be aware of the differences between Python 2 and 3</a></li>
<li><a class="reference internal" href="#update-your-code">Mettre à jour votre code</a><ul>
<li><a class="reference internal" href="#division">Division</a></li>
<li><a class="reference internal" href="#text-versus-binary-data">Texte et données binaires</a></li>
<li><a class="reference internal" href="#use-feature-detection-instead-of-version-detection">Utilisez la détection de fonctionnalités plutôt que la détection de version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#prevent-compatibility-regressions">Prévenir les régressions de compatibilité</a></li>
<li><a class="reference internal" href="#check-which-dependencies-block-your-transition">Vérifier quelles dépendances empêchent la migration</a></li>
<li><a class="reference internal" href="#update-your-setup-py-file-to-denote-python-3-compatibility">Mettre à jour votre fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> pour spécifier la compatibilité avec Python 3</a></li>
<li><a class="reference internal" href="#use-continuous-integration-to-stay-compatible">Utiliser l'intégration continue pour maintenir la compatibilité</a></li>
<li><a class="reference internal" href="#consider-using-optional-static-type-checking">Envisager l'utilisation d'un vérificateur de type statique optionnel</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="index.html"
                          title="Chapitre précédent">Les HOWTOs de Python</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="cporting.html"
                          title="Chapitre suivant">Portage des modules d'extension vers Python 3</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/howto/pyporting.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="cporting.html" title="Portage des modules d&#39;extension vers Python 3"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="index.html" title="Les HOWTOs de Python"
             accesskey="P">précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Les HOWTOs de Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How to port Python 2 Code to Python 3</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="how-to-port-python-2-code-to-python-3">
<span id="pyporting-howto"></span><h1>How to port Python 2 Code to Python 3<a class="headerlink" href="#how-to-port-python-2-code-to-python-3" title="Lien permanent vers ce titre">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">auteur</dt>
<dd class="field-odd"><p>Brett Cannon</p>
</dd>
</dl>
<div class="topic">
<p class="topic-title">Résumé</p>
<p>Python 2 reached its official end-of-life at the start of 2020. This means
that no new bug reports, fixes, or changes will be made to Python 2 - it's
no longer supported.</p>
<p>This guide is intended to provide you with a path to Python 3 for your
code, that includes compatibility with Python 2 as a first step.</p>
<p>Si vous cherchez à porter un module d'extension plutôt que du pur Python, veuillez consulter <a class="reference internal" href="cporting.html#cporting-howto"><span class="std std-ref">Portage des modules d'extension vers Python 3</span></a>.</p>
<p>The archived <a class="reference external" href="https://mail.python.org/pipermail/python-porting/">python-porting</a> mailing list may contain some useful guidance.</p>
</div>
<section id="the-short-explanation">
<h2>La version courte<a class="headerlink" href="#the-short-explanation" title="Lien permanent vers ce titre">¶</a></h2>
<p>To achieve Python 2/3 compatibility in a single code base, the basic steps
are:</p>
<ol class="arabic simple">
<li><p>Ne se préoccuper que du support de Python 2.7</p></li>
<li><p>S'assurer d'une bonne couverture des tests (<a class="reference external" href="https://pypi.org/project/coverage">coverage.py</a> peut aider ; <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">coverage</span></code>)</p></li>
<li><p>Learn the differences between Python 2 and 3</p></li>
<li><p>Utiliser <a class="reference external" href="https://python-future.org/automatic_conversion.html">Futurize</a> (ou <a class="reference external" href="https://python-modernize.readthedocs.io/">Modernize</a>) pour mettre à jour votre code (par exemple <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">future</span></code>)</p></li>
<li><p>Utilisez <a class="reference external" href="https://pypi.org/project/pylint">Pylint</a> pour vous assurer que vous ne régressez pas sur votre prise en charge de Python 3 (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pylint</span></code>)</p></li>
<li><p>Utiliser <a class="reference external" href="https://pypi.org/project/caniusepython3">caniusepython3</a> pour déterminer quelles sont, parmi les dépendances que vous utilisez, celles qui bloquent votre utilisation de Python 3 (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">caniusepython3</span></code>)</p></li>
<li><p>Once your dependencies are no longer blocking you, use continuous integration
to make sure you stay compatible with Python 2 and 3 (<a class="reference external" href="https://pypi.org/project/tox">tox</a> can help test
against multiple versions of Python; <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tox</span></code>)</p></li>
<li><p>Consider using optional static type checking to make sure your type usage
works in both Python 2 and 3 (e.g. use <a class="reference external" href="https://mypy-lang.org/">mypy</a> to check your typing under both
Python 2 and Python 3; <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">mypy</span></code>).</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note : L'utilisation de <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span></code> garantit que le <code class="docutils literal notranslate"><span class="pre">pip</span></code> invoqué est bien celui installé avec la version de Python que vous utilisez, que ce soit un <code class="docutils literal notranslate"><span class="pre">pip</span></code> du système ou un <code class="docutils literal notranslate"><span class="pre">pip</span></code> installé dans un <a class="reference internal" href="../tutorial/venv.html#tut-venv"><span class="std std-ref">environnement virtuel</span></a>.</p>
</div>
</section>
<section id="details">
<h2>Détails<a class="headerlink" href="#details" title="Lien permanent vers ce titre">¶</a></h2>
<p>Even if other factors - say, dependencies over which you have no control -
still require you to support Python 2, that does not prevent you taking the
step of including Python 3 support.</p>
<p>Most changes required to support Python 3 lead to cleaner code using newer
practices even in Python 2 code.</p>
<section id="different-versions-of-python-2">
<h3>Different versions of Python 2<a class="headerlink" href="#different-versions-of-python-2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ideally, your code should be compatible with Python 2.7, which was the
last supported version of Python 2.</p>
<p>Some of the tools mentioned in this guide will not work with Python 2.6.</p>
<p>If absolutely necessary, the <a class="reference external" href="https://pypi.org/project/six">six</a> project can help you support Python 2.5 and
3 simultaneously. Do realize, though, that nearly all the projects listed in
this guide will not be available to you.</p>
<p>If you are able to skip Python 2.5 and older, the required changes to your
code will be minimal. At worst you will have to use a function instead of a
method in some instances or have to import a function instead of using a
built-in one.</p>
</section>
<section id="make-sure-you-specify-the-proper-version-support-in-your-setup-py-file">
<h3>Assurez vous de spécifier la bonne version supportée dans le fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code><a class="headerlink" href="#make-sure-you-specify-the-proper-version-support-in-your-setup-py-file" title="Lien permanent vers ce titre">¶</a></h3>
<p>Votre fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> devrait contenir le bon <a class="reference external" href="https://pypi.org/classifiers">trove classifier</a> spécifiant les versions de Python avec lesquelles vous êtes compatible. Comme votre projet ne supporte pas encore Python 3, vous devriez au moins spécifier <code class="docutils literal notranslate"><span class="pre">Programming</span> <span class="pre">Language</span> <span class="pre">::</span> <span class="pre">Python</span> <span class="pre">::</span> <span class="pre">2</span> <span class="pre">::</span> <span class="pre">Only</span></code>. Dans l'idéal vous devriez indiquer chaque version majeure/mineure de Python que vous gérez, par exemple <code class="docutils literal notranslate"><span class="pre">Programming</span> <span class="pre">Language</span> <span class="pre">::</span> <span class="pre">Python</span> <span class="pre">::</span> <span class="pre">2.7</span></code>.</p>
</section>
<section id="have-good-test-coverage">
<h3>Obtenir une bonne couverture de code<a class="headerlink" href="#have-good-test-coverage" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois que votre code est compatible avec la plus ancienne version de Python 2 que vous souhaitez, vous devez vous assurer que votre suite de test a une couverture suffisante. Une bonne règle empirique consiste à avoir suffisamment confiance en la suite de test pour qu'une erreur apparaissant après la réécriture du code par les outils automatiques résulte de bogues de ces derniers et non de votre code. Si vous souhaitez une valeur cible, essayez de dépasser les 80 % de couverture (et ne vous sentez pas coupable si vous trouvez difficile de faire mieux que 90 % de couverture). Si vous ne disposez pas encore d'un outil pour mesurer la couverture de code, <a class="reference external" href="https://pypi.org/project/coverage">coverage.py</a> est recommandé.</p>
</section>
<section id="be-aware-of-the-differences-between-python-2-and-3">
<h3>Be aware of the differences between Python 2 and 3<a class="headerlink" href="#be-aware-of-the-differences-between-python-2-and-3" title="Lien permanent vers ce titre">¶</a></h3>
<p>Once you have your code well-tested you are ready to begin porting your code to
Python 3! But to fully understand how your code is going to change and what
you want to look out for while you code, you will want to learn what changes
Python 3 makes in terms of Python 2.</p>
<p>Some resources for understanding the differences and their implications for you
code:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="../whatsnew/index.html#whatsnew-index"><span class="std std-ref">&quot;What's New&quot;</span></a> doc for each release of Python 3</p></li>
<li><p>the <a class="reference external" href="http://python3porting.com/">Porting to Python 3</a> book (which is free online)</p></li>
<li><p>the handy <a class="reference external" href="https://python-future.org/compatible_idioms.html">cheat sheet</a> from the Python-Future project.</p></li>
</ul>
</section>
<section id="update-your-code">
<h3>Mettre à jour votre code<a class="headerlink" href="#update-your-code" title="Lien permanent vers ce titre">¶</a></h3>
<p>There are tools available that can port your code automatically.</p>
<p><a class="reference external" href="https://python-future.org/automatic_conversion.html">Futurize</a> does its best to make Python 3 idioms and practices exist in Python
2, e.g. backporting the <code class="docutils literal notranslate"><span class="pre">bytes</span></code> type from Python 3 so that you have
semantic parity between the major versions of Python. This is the better
approach for most cases.</p>
<p><a class="reference external" href="https://python-modernize.readthedocs.io/">Modernize</a>, on the other hand, is more conservative and targets a Python 2/3
subset of Python, directly relying on <a class="reference external" href="https://pypi.org/project/six">six</a> to help provide compatibility.</p>
<p>A good approach is to run the tool over your test suite first and visually
inspect the diff to make sure the transformation is accurate. After you have
transformed your test suite and verified that all the tests still pass as
expected, then you can transform your application code knowing that any tests
which fail is a translation failure.</p>
<p>Unfortunately the tools can't automate everything to make your code work under
Python 3, and you will also need to read the tools' documentation in case some
options you need are turned off by default.</p>
<p>Key issues to be aware of and check for:</p>
<section id="division">
<h4>Division<a class="headerlink" href="#division" title="Lien permanent vers ce titre">¶</a></h4>
<p>In Python 3, <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">==</span> <span class="pre">2.5</span></code> and not <code class="docutils literal notranslate"><span class="pre">2</span></code> as it was in Python 2; all
division between <code class="docutils literal notranslate"><span class="pre">int</span></code> values result in a <code class="docutils literal notranslate"><span class="pre">float</span></code>. This change has
actually been planned since Python 2.2 which was released in 2002. Since then
users have been encouraged to add <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">division</span></code> to any
and all files which use the <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">//</span></code> operators or to be running the
interpreter with the <code class="docutils literal notranslate"><span class="pre">-Q</span></code> flag. If you have not been doing this then you
will need to go through your code and do two things:</p>
<ol class="arabic simple">
<li><p>Ajouter <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">division</span></code> à vos fichiers</p></li>
<li><p>Remplacer tous les opérateurs de division par <code class="docutils literal notranslate"><span class="pre">//</span></code> pour la division entière, le cas échéant, ou utiliser <code class="docutils literal notranslate"><span class="pre">/</span></code> et vous attendre à un résultat flottant</p></li>
</ol>
<p>La raison pour laquelle  <code class="docutils literal notranslate"><span class="pre">/</span></code> n'est pas simplement remplacé par <code class="docutils literal notranslate"><span class="pre">//</span></code> automatiquement est que si un objet définit une méthode <code class="docutils literal notranslate"><span class="pre">__truediv__</span></code> mais pas de méthode <code class="docutils literal notranslate"><span class="pre">__floordiv__</span></code>, alors votre code pourrait produire une erreur (par exemple, une classe définie par l'utilisateur qui utilise <code class="docutils literal notranslate"><span class="pre">/</span></code> pour définir une opération quelconque mais pour laquelle <code class="docutils literal notranslate"><span class="pre">//</span></code> n'a pas du tout la même signification, voire n'est pas utilisé du tout).</p>
</section>
<section id="text-versus-binary-data">
<h4>Texte et données binaires<a class="headerlink" href="#text-versus-binary-data" title="Lien permanent vers ce titre">¶</a></h4>
<p>Dans Python 2, il était possible d'utiliser le type <code class="docutils literal notranslate"><span class="pre">str</span></code> pour du texte et pour des données binaires. Malheureusement cet amalgame entre deux concepts différents peut conduire à du code fragile pouvant parfois fonctionner pour les deux types de données et parfois non. Cela a également conduit à des API confuses si les auteurs ne déclaraient pas explicitement que quelque chose qui acceptait <code class="docutils literal notranslate"><span class="pre">str</span></code> était compatible avec du texte ou des données binaires et pas un seul des deux types. Cela a compliqué la situation pour les personnes devant gérer plusieurs langages avec des API qui ne se préoccupaient pas de la gestion de <code class="docutils literal notranslate"><span class="pre">unicode</span></code> lorsqu'elles affirmaient être compatibles avec des données au format texte.</p>
<p>Python 3 made text and binary data distinct types that cannot simply be mixed
together. For any code that deals only with text or only binary data, this
separation doesn't pose an issue. But for code that has to deal with both, it
does mean you might have to now care about when you are using text compared
to binary data, which is why this cannot be entirely automated.</p>
<p>Decide which APIs take text and which take binary (it is <strong>highly</strong> recommended
you don't design APIs that can take both due to the difficulty of keeping the
code working; as stated earlier it is difficult to do well). In Python 2 this
means making sure the APIs that take text can work with <code class="docutils literal notranslate"><span class="pre">unicode</span></code> and those
that work with binary data work with the <code class="docutils literal notranslate"><span class="pre">bytes</span></code> type from Python 3
(which is a subset of <code class="docutils literal notranslate"><span class="pre">str</span></code> in Python 2 and acts as an alias for <code class="docutils literal notranslate"><span class="pre">bytes</span></code>
type in Python 2). Usually the biggest issue is realizing which methods exist
on which types in Python 2 and 3 simultaneously (for text that's <code class="docutils literal notranslate"><span class="pre">unicode</span></code>
in Python 2 and <code class="docutils literal notranslate"><span class="pre">str</span></code> in Python 3, for binary that's <code class="docutils literal notranslate"><span class="pre">str</span></code>/<code class="docutils literal notranslate"><span class="pre">bytes</span></code> in
Python 2 and <code class="docutils literal notranslate"><span class="pre">bytes</span></code> in Python 3).</p>
<p>The following table lists the <strong>unique</strong> methods of each data type across
Python 2 and 3 (e.g., the <code class="docutils literal notranslate"><span class="pre">decode()</span></code> method is usable on the equivalent binary
data type in either Python 2 or 3, but it can't be used by the textual data
type consistently between Python 2 and 3 because <code class="docutils literal notranslate"><span class="pre">str</span></code> in Python 3 doesn't
have the method). Do note that as of Python 3.5 the <code class="docutils literal notranslate"><span class="pre">__mod__</span></code> method was
added to the bytes type.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Format texte</strong></p></td>
<td><p><strong>Format binaire</strong></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>decode</p></td>
</tr>
<tr class="row-odd"><td><p>encode</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>format</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>isdecimal</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>isnumeric</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Vous pouvez rendre le problème plus simple à gérer en réalisant les opérations d'encodage et de décodage entre données binaires et texte aux extrémités de votre code. Cela signifie que lorsque vous recevez du texte dans un format binaire, vous devez immédiatement le décoder. À l'inverse si votre code doit transmettre du texte sous forme binaire, encodez-le le plus tard possible. Cela vous permet de ne manipuler que du texte à l'intérieur de votre code et permet de ne pas se préoccuper du type des données sur lesquelles vous travaillez.</p>
<p>The next issue is making sure you know whether the string literals in your code
represent text or binary data. You should add a <code class="docutils literal notranslate"><span class="pre">b</span></code> prefix to any
literal that presents binary data. For text you should add a <code class="docutils literal notranslate"><span class="pre">u</span></code> prefix to
the text literal. (There is a <a class="reference internal" href="../library/__future__.html#module-__future__" title="__future__: Future statement definitions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">__future__</span></code></a> import to force all unspecified
literals to be Unicode, but usage has shown it isn't as effective as adding a
<code class="docutils literal notranslate"><span class="pre">b</span></code> or <code class="docutils literal notranslate"><span class="pre">u</span></code> prefix to all literals explicitly)</p>
<p>You also need to be careful about opening files. Possibly you have not always
bothered to add the <code class="docutils literal notranslate"><span class="pre">b</span></code> mode when opening a binary file (e.g., <code class="docutils literal notranslate"><span class="pre">rb</span></code> for
binary reading).  Under Python 3, binary files and text files are clearly
distinct and mutually incompatible; see the <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a> module for details.
Therefore, you <strong>must</strong> make a decision of whether a file will be used for
binary access (allowing binary data to be read and/or written) or textual access
(allowing text data to be read and/or written). You should also use <a class="reference internal" href="../library/io.html#io.open" title="io.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a>
for opening files instead of the built-in <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function as the <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a>
module is consistent from Python 2 to 3 while the built-in <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function
is not (in Python 3 it's actually <a class="reference internal" href="../library/io.html#io.open" title="io.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a>). Do not bother with the
outdated practice of using <a class="reference internal" href="../library/codecs.html#codecs.open" title="codecs.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.open()</span></code></a> as that's only necessary for
keeping compatibility with Python 2.5.</p>
<p>The constructors of both <code class="docutils literal notranslate"><span class="pre">str</span></code> and <code class="docutils literal notranslate"><span class="pre">bytes</span></code> have different semantics for the
same arguments between Python 2 and 3. Passing an integer to <code class="docutils literal notranslate"><span class="pre">bytes</span></code> in Python 2
will give you the string representation of the integer: <code class="docutils literal notranslate"><span class="pre">bytes(3)</span> <span class="pre">==</span> <span class="pre">'3'</span></code>.
But in Python 3, an integer argument to <code class="docutils literal notranslate"><span class="pre">bytes</span></code> will give you a bytes object
as long as the integer specified, filled with null bytes:
<code class="docutils literal notranslate"><span class="pre">bytes(3)</span> <span class="pre">==</span> <span class="pre">b'\x00\x00\x00'</span></code>. A similar worry is necessary when passing a
bytes object to <code class="docutils literal notranslate"><span class="pre">str</span></code>. In Python 2 you just get the bytes object back:
<code class="docutils literal notranslate"><span class="pre">str(b'3')</span> <span class="pre">==</span> <span class="pre">b'3'</span></code>. But in Python 3 you get the string representation of the
bytes object: <code class="docutils literal notranslate"><span class="pre">str(b'3')</span> <span class="pre">==</span> <span class="pre">&quot;b'3'&quot;</span></code>.</p>
<p>Enfin, l'indiçage des données binaires exige une manipulation prudente (bien que le découpage, ou <em>slicing</em> en anglais, ne nécessite pas d'attention particulière). En Python 2, <code class="docutils literal notranslate"><span class="pre">b'123'[1]</span> <span class="pre">==</span> <span class="pre">b'2'</span></code> tandis qu'en Python 3 <code class="docutils literal notranslate"><span class="pre">b'123'[1]</span> <span class="pre">==</span> <span class="pre">50</span></code>. Puisque les données binaires ne sont simplement qu'une collection de nombres en binaire, Python 3 renvoie la valeur entière de l'octet indicé. Mais en Python 2, étant donné que <code class="docutils literal notranslate"><span class="pre">bytes</span> <span class="pre">==</span> <span class="pre">str</span></code>, l'indiçage renvoie une tranche de longueur 1 de <em>bytes</em>. Le projet <a class="reference external" href="https://pypi.org/project/six">six</a> dispose d'une fonction appelée <code class="docutils literal notranslate"><span class="pre">six.indexbytes()</span></code> qui renvoie un entier comme en Python 3 : <code class="docutils literal notranslate"><span class="pre">six.indexbytes(b'123',</span> <span class="pre">1)</span></code>.</p>
<p>Pour résumer :</p>
<ol class="arabic simple">
<li><p>Décidez lesquelles de vos API travaillent sur du texte et lesquelles travaillent sur des données binaires</p></li>
<li><p>Assurez vous que votre code travaillant sur du texte fonctionne aussi avec le type <code class="docutils literal notranslate"><span class="pre">unicode</span></code> et que le code travaillant sur du binaire fonctionne avec le type <code class="docutils literal notranslate"><span class="pre">bytes</span></code> en Python 2 (voir le tableau ci-dessus pour la liste des méthodes utilisables par chaque type)</p></li>
<li><p>Préfixez tous vos littéraux binaires par <code class="docutils literal notranslate"><span class="pre">b</span></code> et toutes vos chaînes de caractères littérales par <code class="docutils literal notranslate"><span class="pre">u</span></code></p></li>
<li><p>Décodez les données binaires en texte dès que possible, encodez votre texte au format binaire le plus tard possible</p></li>
<li><p>Ouvrez les fichiers avec la fonction <a class="reference internal" href="../library/io.html#io.open" title="io.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a> et assurez-vous de spécifier le mode <code class="docutils literal notranslate"><span class="pre">b</span></code> le cas échéant</p></li>
<li><p>Utilisez avec prudence l'indiçage sur des données binaires</p></li>
</ol>
</section>
<section id="use-feature-detection-instead-of-version-detection">
<h4>Utilisez la détection de fonctionnalités plutôt que la détection de version<a class="headerlink" href="#use-feature-detection-instead-of-version-detection" title="Lien permanent vers ce titre">¶</a></h4>
<p>Vous rencontrerez inévitablement du code devant décider quoi faire en fonction de la version de Python qui s'exécute. La meilleure façon de gérer ce cas est de détecter si les fonctionnalités dont vous avez besoin sont gérées par la version de Python sous laquelle le code s'exécute. Si pour certaines raisons cela ne fonctionne pas, alors vous devez tester si votre version est Python 2 et non Python 3. Afin de clarifier cette pratique, voici un exemple.</p>
<p>Supposons que vous avez besoin d'accéder à une fonctionnalité de <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> qui est disponible dans la bibliothèque standard de Python depuis la version 3.3, dans celle de Python 2 via le module <a class="reference external" href="https://pypi.org/project/importlib2">importlib2</a> sur <em>PyPI</em>. Vous pourriez être tenté d'écrire un code qui accède, par exemple, au module <a class="reference internal" href="../library/importlib.html#module-importlib.abc" title="importlib.abc: Abstract base classes related to import"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.abc</span></code></a> avec l'approche suivante :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib2</span> <span class="kn">import</span> <span class="n">abc</span>
</pre></div>
</div>
<p>Le problème est le suivant : que se passe-t-il lorsque Python 4 est publié ? Il serait préférable de traiter le cas Python 2 comme l'exception plutôt que Python 3 et de supposer que les versions futures de Python 2 seront plus compatibles avec Python 3 qu'avec Python 2 :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib2</span> <span class="kn">import</span> <span class="n">abc</span>
</pre></div>
</div>
<p>Néanmoins la meilleure solution est de ne pas chercher à déterminer la version de Python mais plutôt à détecter les fonctionnalités disponibles. Cela évite les problèmes potentiels liés aux erreurs de détection de version et facilite la compatibilité future :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">importlib2</span> <span class="kn">import</span> <span class="n">abc</span>
</pre></div>
</div>
</section>
</section>
<section id="prevent-compatibility-regressions">
<h3>Prévenir les régressions de compatibilité<a class="headerlink" href="#prevent-compatibility-regressions" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois votre code traduit pour être compatible avec Python 3, vous devez vous assurer que votre code n'a pas régressé ou qu'il ne fonctionne pas sous Python 3. Ceci est particulièrement important si une de vos dépendances vous empêche de réellement exécuter le code sous Python 3 pour le moment.</p>
<p>Afin de vous aider à maintenir la compatibilité, nous préconisons que tous les nouveaux modules que vous créez aient au moins le bloc de code suivant en en-tête :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
</pre></div>
</div>
<p>Vous pouvez également lancer Python 2 avec le paramètre <code class="docutils literal notranslate"><span class="pre">-3</span></code> afin d'être alerté en cas de divers problèmes de compatibilité que votre code déclenche durant son exécution. Si vous transformez les avertissements en erreur avec <code class="docutils literal notranslate"><span class="pre">-Werror</span></code>, vous pouvez être certain que ne passez pas accidentellement à côté d'un avertissement.</p>
<p>Vous pouvez également utiliser le projet <a class="reference external" href="https://pypi.org/project/pylint">Pylint</a> et son option <code class="docutils literal notranslate"><span class="pre">--py3k</span></code> afin de modifier votre code pour recevoir des avertissements lorsque celui-ci dévie de la compatibilité Python 3. Cela vous évite par ailleurs d'appliquer <a class="reference external" href="https://python-modernize.readthedocs.io/">Modernize</a> ou <a class="reference external" href="https://python-future.org/automatic_conversion.html">Futurize</a> sur votre code régulièrement pour détecter des régressions liées à la compatibilité. Cependant cela nécessite de votre part le support de Python 2.7 et Python 3.4 ou ultérieur étant donné qu'il s'agit de la version minimale gérée par Pylint.</p>
</section>
<section id="check-which-dependencies-block-your-transition">
<h3>Vérifier quelles dépendances empêchent la migration<a class="headerlink" href="#check-which-dependencies-block-your-transition" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Après</strong> avoir rendu votre code compatible avec Python 3, vous devez commencer à vous intéresser au portage de vos dépendances. Le projet <a class="reference external" href="https://pypi.org/project/caniusepython3">caniusepython3</a> a été créé afin de vous aider à déterminer quels projets sont bloquants dans votre support de Python 3, directement ou indirectement. Il existe un outil en ligne de commande ainsi qu'une interface web : <a class="reference external" href="https://caniusepython3.com">https://caniusepython3.com</a>.</p>
<p>Le projet fournit également du code intégrable dans votre suite de test qui déclenchera un échec de test lorsque plus aucune de vos dépendances n'est bloquante pour l'utilisation de Python 3. Cela vous permet de ne pas avoir à vérifier manuellement vos dépendances et d'être notifié rapidement quand vous pouvez exécuter votre application avec Python 3.</p>
</section>
<section id="update-your-setup-py-file-to-denote-python-3-compatibility">
<h3>Mettre à jour votre fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> pour spécifier la compatibilité avec Python 3<a class="headerlink" href="#update-your-setup-py-file-to-denote-python-3-compatibility" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois que votre code fonctionne sous Python 3, vous devez mettre à jour vos classeurs dans votre <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> pour inclure <code class="docutils literal notranslate"><span class="pre">Programming</span> <span class="pre">Language</span> <span class="pre">::</span> <span class="pre">Python</span> <span class="pre">::</span> <span class="pre">3</span></code> et non seulement le support de Python 2. Cela signifiera à quiconque utilise votre code que vous gérez Python 2 <strong>et</strong> 3. Dans l'idéal vous devrez aussi ajouter une mention pour chaque version majeure/mineure de Python que vous supportez désormais.</p>
</section>
<section id="use-continuous-integration-to-stay-compatible">
<h3>Utiliser l'intégration continue pour maintenir la compatibilité<a class="headerlink" href="#use-continuous-integration-to-stay-compatible" title="Lien permanent vers ce titre">¶</a></h3>
<p>Once you are able to fully run under Python 3 you will want to make sure your
code always works under both Python 2 and 3. Probably the best tool for running
your tests under multiple Python interpreters is <a class="reference external" href="https://pypi.org/project/tox">tox</a>. You can then integrate
tox with your continuous integration system so that you never accidentally break
Python 2 or 3 support.</p>
<p>Vous pouvez également utiliser l'option <code class="docutils literal notranslate"><span class="pre">-bb</span></code> de l'interpréteur Python 3 afin de déclencher une exception lorsque vous comparez des <em>bytes</em> à des chaînes de caractères ou à un entier (cette deuxième possibilité est disponible à partir de Python 3.5). Par défaut, des comparaisons entre types différents renvoient simplement <code class="docutils literal notranslate"><span class="pre">False</span></code> mais si vous avez fait une erreur dans votre séparation de la gestion texte/données binaires ou votre indiçage des <em>bytes</em>, vous ne trouverez pas facilement le bogue. Ce drapeau lève une exception lorsque ce genre de comparaison apparaît, facilitant ainsi son identification et sa localisation.</p>
</section>
<section id="consider-using-optional-static-type-checking">
<h3>Envisager l'utilisation d'un vérificateur de type statique optionnel<a class="headerlink" href="#consider-using-optional-static-type-checking" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une autre façon de faciliter le portage de votre code est d'utiliser un vérificateur de type statique comme <a class="reference external" href="https://mypy-lang.org/">mypy</a> ou <a class="reference external" href="https://github.com/google/pytype">pytype</a>. Ces outils peuvent être utilisés pour analyser votre code comme s'il était exécuté sous Python 2, puis une seconde fois comme s'il était exécuté sous Python 3. L'utilisation double d'un vérificateur de type statique de cette façon permet de détecter si, par exemple, vous faites une utilisation inappropriée des types de données binaires dans une version de Python par rapport à l'autre. Si vous ajoutez les indices optionnels de typage à votre code, vous pouvez alors explicitement déclarer que vos API attendent des données binaires ou du texte, ce qui facilite alors la vérification du comportement de votre code dans les deux versions de Python.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#">How to port Python 2 Code to Python 3</a><ul>
<li><a class="reference internal" href="#the-short-explanation">La version courte</a></li>
<li><a class="reference internal" href="#details">Détails</a><ul>
<li><a class="reference internal" href="#different-versions-of-python-2">Different versions of Python 2</a></li>
<li><a class="reference internal" href="#make-sure-you-specify-the-proper-version-support-in-your-setup-py-file">Assurez vous de spécifier la bonne version supportée dans le fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code></a></li>
<li><a class="reference internal" href="#have-good-test-coverage">Obtenir une bonne couverture de code</a></li>
<li><a class="reference internal" href="#be-aware-of-the-differences-between-python-2-and-3">Be aware of the differences between Python 2 and 3</a></li>
<li><a class="reference internal" href="#update-your-code">Mettre à jour votre code</a><ul>
<li><a class="reference internal" href="#division">Division</a></li>
<li><a class="reference internal" href="#text-versus-binary-data">Texte et données binaires</a></li>
<li><a class="reference internal" href="#use-feature-detection-instead-of-version-detection">Utilisez la détection de fonctionnalités plutôt que la détection de version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#prevent-compatibility-regressions">Prévenir les régressions de compatibilité</a></li>
<li><a class="reference internal" href="#check-which-dependencies-block-your-transition">Vérifier quelles dépendances empêchent la migration</a></li>
<li><a class="reference internal" href="#update-your-setup-py-file-to-denote-python-3-compatibility">Mettre à jour votre fichier <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> pour spécifier la compatibilité avec Python 3</a></li>
<li><a class="reference internal" href="#use-continuous-integration-to-stay-compatible">Utiliser l'intégration continue pour maintenir la compatibilité</a></li>
<li><a class="reference internal" href="#consider-using-optional-static-type-checking">Envisager l'utilisation d'un vérificateur de type statique optionnel</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="index.html"
                          title="Chapitre précédent">Les HOWTOs de Python</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="cporting.html"
                          title="Chapitre suivant">Portage des modules d'extension vers Python 3</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/howto/pyporting.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="cporting.html" title="Portage des modules d&#39;extension vers Python 3"
             >suivant</a> |</li>
        <li class="right" >
          <a href="index.html" title="Les HOWTOs de Python"
             >précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Les HOWTOs de Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How to port Python 2 Code to Python 3</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Mis à jour le oct. 26, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>