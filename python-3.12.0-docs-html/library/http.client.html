
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="http.client — Client pour le protocole HTTP" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/http.client.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Code source : Lib/http/client.py This module defines classes that implement the client side of the HTTP and HTTPS protocols. It is normally not used directly --- the module urllib.request uses it t..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Code source : Lib/http/client.py This module defines classes that implement the client side of the HTTP and HTTPS protocols. It is normally not used directly --- the module urllib.request uses it t..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>http.client — Client pour le protocole HTTP &#8212; Documentation Python 3.12.0</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=b37c26da2f7529d09fe70b41c4b2133fe4931a90" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Recherchez dans Documentation Python 3.12.0"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="ftplib — Le protocole client FTP" href="ftplib.html" />
    <link rel="prev" title="http — modules HTTP" href="http.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/http.client.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" />
                <input type="submit" value="Go"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code> — Client pour le protocole HTTP</a><ul>
<li><a class="reference internal" href="#httpconnection-objects">Les objets HTTPConnection</a></li>
<li><a class="reference internal" href="#httpresponse-objects">Les objets HTTPResponse</a></li>
<li><a class="reference internal" href="#examples">Exemples</a></li>
<li><a class="reference internal" href="#httpmessage-objects">Les objets HTTPMessage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="http.html"
                          title="Chapitre précédent"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http</span></code> — modules HTTP</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="ftplib.html"
                          title="Chapitre suivant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ftplib</span></code> — Le protocole client FTP</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/http.client.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="ftplib.html" title="ftplib — Le protocole client FTP"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="http.html" title="http — modules HTTP"
             accesskey="P">précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La bibliothèque standard</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">Gestion des protocoles internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code> — Client pour le protocole HTTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-http.client">
<span id="http-client-http-protocol-client"></span><h1><a class="reference internal" href="#module-http.client" title="http.client: HTTP and HTTPS protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code></a> — Client pour le protocole HTTP<a class="headerlink" href="#module-http.client" title="Lien permanent vers ce titre">¶</a></h1>
<p><strong>Code source :</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.12/Lib/http/client.py">Lib/http/client.py</a></p>
<span class="target" id="index-0"></span><hr class="docutils" id="index-1" />
<p>This module defines classes that implement the client side of the HTTP and
HTTPS protocols.  It is normally not used directly --- the module
<a class="reference internal" href="urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a> uses it to handle URLs that use HTTP and HTTPS.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p>The <a class="reference external" href="https://requests.readthedocs.io/en/latest/">Requests package</a>
is recommended for a higher-level HTTP client interface.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L'implémentation d'HTTPS n'est disponible que si Python a été compilé avec la prise en charge de SSL (au moyen du module <a class="reference internal" href="ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>).</p>
</div>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: not Emscripten, not WASI.</p>
<p>This module does not work or is not available on WebAssembly platforms
<code class="docutils literal notranslate"><span class="pre">wasm32-emscripten</span></code> and <code class="docutils literal notranslate"><span class="pre">wasm32-wasi</span></code>. See
<a class="reference internal" href="intro.html#wasm-availability"><span class="std std-ref">Plateformes WebAssembly</span></a> for more information.</p>
</div>
<p>Le module fournit les classes suivantes :</p>
<dl class="py class">
<dt class="sig sig-object py" id="http.client.HTTPConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTPConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=None</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocksize=8192</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>An <a class="reference internal" href="#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> instance represents one transaction with an HTTP
server.  It should be instantiated by passing it a host and optional port
number.  If no port number is passed, the port is extracted from the host
string if it has the form <code class="docutils literal notranslate"><span class="pre">host:port</span></code>, else the default HTTP port (80) is
used.  If the optional <em>timeout</em> parameter is given, blocking
operations (like connection attempts) will timeout after that many seconds
(if it is not given, the global default timeout setting is used).
The optional <em>source_address</em> parameter may be a tuple of a (host, port)
to use as the source address the HTTP connection is made from.
The optional <em>blocksize</em> parameter sets the buffer size in bytes for
sending a file-like message body.</p>
<p>Par exemple, tous les appels suivants créent des instances qui se connectent à un serveur sur le même hôte et le même port :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s1">&#39;www.python.org&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h2</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s1">&#39;www.python.org:80&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h3</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s1">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h4</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s1">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.2: </span>Le paramètre <em>source_address</em> a été ajouté.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.4: </span>The  <em>strict</em> parameter was removed. HTTP 0.9-style &quot;Simple Responses&quot; are
no longer supported.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.7: </span>Le paramètre <em>blocksize</em> a été ajouté.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="http.client.HTTPSConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTPSConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocksize=8192</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPSConnection" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette sous-classe de <a class="reference internal" href="#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> utilise SSL pour communiquer avec des serveurs sécurisés. Le port par défaut est <code class="docutils literal notranslate"><span class="pre">443</span></code>. Si le paramètre <em>context</em> est fourni, ce doit être une instance de <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> décrivant les diverses options SSL.</p>
<p>Il est conseillé de lire <a class="reference internal" href="ssl.html#ssl-security"><span class="std std-ref">Security considerations</span></a> pour plus d'informations sur les bonnes pratiques.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.2: </span>Les paramètres <em>source_address</em>, <em>context</em> et <em>check_hostname</em> ont été ajoutés.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.2: </span>This class now supports HTTPS virtual hosts if possible (that is,
if <a class="reference internal" href="ssl.html#ssl.HAS_SNI" title="ssl.HAS_SNI"><code class="xref py py-const docutils literal notranslate"><span class="pre">ssl.HAS_SNI</span></code></a> is true).</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.4: </span>Le paramètre <em>strict</em> a été supprimé. Les « réponses simples » de HTTP 0.9 ne sont plus prises en charge.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.4.3: </span>Cette classe réalise maintenant par défaut toutes les vérifications de certificat et de nom d'hôte. Pour revenir au comportement antérieur, sans  vérification,  <code class="xref py py-func docutils literal notranslate"><span class="pre">ssl._create_unverified_context()</span></code> peut être passé au paramètre  <em>context</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.8: </span>Cette classe sélectionne désormais TLS 1.3 pour <a class="reference internal" href="ssl.html#ssl.SSLContext.post_handshake_auth" title="ssl.SSLContext.post_handshake_auth"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ssl.SSLContext.post_handshake_auth</span></code></a> dans le <em>context</em> par défaut ou quand <em>cert_file</em> est fourni avec une valeur de <em>context</em> personnalisée.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.10: </span>Cette classe envoie désormais une extension ALPN avec un indicateur de protocole <code class="docutils literal notranslate"><span class="pre">http/1.1</span></code> quand <em>context</em> n'est pas fourni. Un  <em>context</em> personnalisé doit définir les protocoles ALPN avec <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_alpn_protocol()</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.12: </span>The deprecated <em>key_file</em>, <em>cert_file</em> and <em>check_hostname</em> parameters
have been removed.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="http.client.HTTPResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTPResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debuglevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Classe dont les instances sont renvoyées dès qu'une connexion est établie.  Cette classe n'est jamais instanciée directement par l'utilisateur.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.4: </span>Le paramètre <em>strict</em> a été supprimé. Les « réponses simples » de HTTP 0.9 ne sont plus prises en charge.</p>
</div>
</dd></dl>

<p>Ce module fournit les fonctions suivantes :</p>
<dl class="py function">
<dt class="sig sig-object py" id="http.client.parse_headers">
<span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">parse_headers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.parse_headers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Analyse les en-têtes à partir d'un pointeur de fichier <em>fp</em> représentant une requête/réponse HTTP. Le fichier doit être un lecteur de classe <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedIOBase</span></code> (c'est-à-dire non textuel) et doit impérativement renvoyer un en-tête valide selon la <span class="target" id="index-11"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2822.html"><strong>RFC 2822</strong></a>.</p>
<p>Cette fonction renvoie une instance de <code class="xref py py-class docutils literal notranslate"><span class="pre">http.client.HTTPMessage</span></code> qui contient les champs d'en-tête, mais pas la charge utile (de même que <a class="reference internal" href="#http.client.HTTPResponse.msg" title="http.client.HTTPResponse.msg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">HTTPResponse.msg</span></code></a> et <a class="reference internal" href="http.server.html#http.server.BaseHTTPRequestHandler.headers" title="http.server.BaseHTTPRequestHandler.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">http.server.BaseHTTPRequestHandler.headers</span></code></a>). Après le retour, le pointeur de fichier <em>fp</em> est prêt à lire le corps HTTP.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>La méthode <a class="reference internal" href="#http.client.parse_headers" title="http.client.parse_headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_headers()</span></code></a> n'analyse pas la ligne initiale d'un message HTTP ; elle n'analyse que les lignes <code class="docutils literal notranslate"><span class="pre">Name:</span> <span class="pre">value</span></code>. Le fichier doit être prêt à lire ces lignes de champs, aussi la première ligne doit déjà avoir été consommée avant l'appel de la fonction.</p>
</div>
</dd></dl>

<p>Les exceptions suivantes sont levées selon les cas :</p>
<dl class="py exception">
<dt class="sig sig-object py" id="http.client.HTTPException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTPException</span></span><a class="headerlink" href="#http.client.HTTPException" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La classe de base des autres exceptions de ce module.  C'est une sous-classe de  <a class="reference internal" href="exceptions.html#Exception" title="Exception"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.NotConnected">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">NotConnected</span></span><a class="headerlink" href="#http.client.NotConnected" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.InvalidURL">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">InvalidURL</span></span><a class="headerlink" href="#http.client.InvalidURL" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>, levée si le port donné n'est pas numérique ou est vide.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.UnknownProtocol">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">UnknownProtocol</span></span><a class="headerlink" href="#http.client.UnknownProtocol" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.UnknownTransferEncoding">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">UnknownTransferEncoding</span></span><a class="headerlink" href="#http.client.UnknownTransferEncoding" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.UnimplementedFileMode">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">UnimplementedFileMode</span></span><a class="headerlink" href="#http.client.UnimplementedFileMode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.IncompleteRead">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">IncompleteRead</span></span><a class="headerlink" href="#http.client.IncompleteRead" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.ImproperConnectionState">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">ImproperConnectionState</span></span><a class="headerlink" href="#http.client.ImproperConnectionState" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.CannotSendRequest">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">CannotSendRequest</span></span><a class="headerlink" href="#http.client.CannotSendRequest" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.ImproperConnectionState" title="http.client.ImproperConnectionState"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperConnectionState</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.CannotSendHeader">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">CannotSendHeader</span></span><a class="headerlink" href="#http.client.CannotSendHeader" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.ImproperConnectionState" title="http.client.ImproperConnectionState"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperConnectionState</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.ResponseNotReady">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">ResponseNotReady</span></span><a class="headerlink" href="#http.client.ResponseNotReady" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.ImproperConnectionState" title="http.client.ImproperConnectionState"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperConnectionState</span></code></a>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.BadStatusLine">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">BadStatusLine</span></span><a class="headerlink" href="#http.client.BadStatusLine" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.  Levée si un serveur répond avec un code d'état HTTP qui n'est pas compris.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.LineTooLong">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">LineTooLong</span></span><a class="headerlink" href="#http.client.LineTooLong" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="#http.client.HTTPException" title="http.client.HTTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code></a>.  Levée si une ligne du protocole HTTP est excessivement longue dans ce qui provient du serveur.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="http.client.RemoteDisconnected">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">RemoteDisconnected</span></span><a class="headerlink" href="#http.client.RemoteDisconnected" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="exceptions.html#ConnectionResetError" title="ConnectionResetError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConnectionResetError</span></code></a> et <a class="reference internal" href="#http.client.BadStatusLine" title="http.client.BadStatusLine"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadStatusLine</span></code></a>.  Levée par la méthode <a class="reference internal" href="#http.client.HTTPConnection.getresponse" title="http.client.HTTPConnection.getresponse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HTTPConnection.getresponse()</span></code></a> quand la tentative de lire la réponse n'aboutit à aucune donnée provenant de la connexion, indiquant ainsi que la partie distante a fermé celle-ci.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.5: </span>Antérieurement, <a class="reference internal" href="#http.client.BadStatusLine" title="http.client.BadStatusLine"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadStatusLine</span></code></a><code class="docutils literal notranslate"><span class="pre">('')</span></code> était levée.</p>
</div>
</dd></dl>

<p>Les constantes définies dans ce module sont :</p>
<dl class="py data">
<dt class="sig sig-object py" id="http.client.HTTP_PORT">
<span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTP_PORT</span></span><a class="headerlink" href="#http.client.HTTP_PORT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le port par défaut du protocole HTTP (toujours <code class="docutils literal notranslate"><span class="pre">80</span></code>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="http.client.HTTPS_PORT">
<span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">HTTPS_PORT</span></span><a class="headerlink" href="#http.client.HTTPS_PORT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le port par défaut du protocole HTTPS (toujours <code class="docutils literal notranslate"><span class="pre">443</span></code>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="http.client.responses">
<span class="sig-prename descclassname"><span class="pre">http.client.</span></span><span class="sig-name descname"><span class="pre">responses</span></span><a class="headerlink" href="#http.client.responses" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ce dictionnaire associe les codes d'états HTTP 1.1 à leurs noms tels que définis par le W3C.</p>
<p>Par exemple : <code class="docutils literal notranslate"><span class="pre">http.client.responses[http.client.NOT_FOUND]</span></code> est <code class="docutils literal notranslate"><span class="pre">'Not</span> <span class="pre">Found'</span></code>.</p>
</dd></dl>

<p>Voir <a class="reference internal" href="http.html#http-status-codes"><span class="std std-ref">Codes d'état HTTP</span></a> pour une liste des codes d'état HTTP qui sont disponibles comme constantes dans ce module.</p>
<section id="httpconnection-objects">
<span id="id1"></span><h2>Les objets HTTPConnection<a class="headerlink" href="#httpconnection-objects" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les instances de la classe <a class="reference internal" href="#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> possèdent les méthodes suivantes :</p>
<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.request">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_chunked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.request" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This will send a request to the server using the HTTP request
method <em>method</em> and the request URI <em>url</em>. The provided <em>url</em> must be
an absolute path to conform with <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2616.html#section-5.1.2"><strong>RFC 2616 §5.1.2</strong></a>
(unless connecting to an HTTP proxy server or using the <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> or
<code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> methods).</p>
<p>Si <em>body</em> est passé en paramètre, les données transmises sont envoyées à la suite des en-têtes. Ce paramètre peut-être une <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, un <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">objet octet-comptatible</span></a>, un <a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">objet fichier</span></a> préalablement ouvert, ou un itérable de classe <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>. Si <em>body</em> est une chaîne, elle est encodée en ISO-8859-1, valeur par défaut pour HTTP. Si c'est un objet octet-compatible, les octets sont envoyés tels quels. Si c'est un <a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">objet fichier</span></a>, le contenu du fichier est envoyé ; cet objet fichier doit implémenter au moins la méthode  <code class="docutils literal notranslate"><span class="pre">read()</span></code>. Si l'objet fichier est une instance de <a class="reference internal" href="io.html#io.TextIOBase" title="io.TextIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOBase</span></code></a>, les données renvoyées par la méthode <code class="docutils literal notranslate"><span class="pre">read()</span></code> sont encodées en ISO-8859-1, sinon les données renvoyées par <code class="docutils literal notranslate"><span class="pre">read()</span></code> sont envoyées telles quelles. Si <em>body</em> est un itérable, les éléments de cet itérable sont envoyés jusqu'à ce que l'itérable soit vide.</p>
<p>The <em>headers</em> argument should be a mapping of extra HTTP headers to send
with the request. A <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2616.html#section-14.23"><strong>Host header</strong></a>
must be provided to conform with <span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2616.html#section-5.1.2"><strong>RFC 2616 §5.1.2</strong></a>
(unless connecting to an HTTP proxy server or using the <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> or
<code class="docutils literal notranslate"><span class="pre">CONNECT</span></code> methods).</p>
<p>Si <em>headers</em> ne contient ni <code class="docutils literal notranslate"><span class="pre">Content-Length:</span></code> ni <code class="docutils literal notranslate"><span class="pre">Transfer-Encoding:</span></code>, mais qu'un corps de requête est fourni, un de ces en-têtes est ajouté automatiquement. Si <em>body</em> est <code class="docutils literal notranslate"><span class="pre">None</span></code>, l'en-tête <code class="docutils literal notranslate"><span class="pre">Content-Length:</span></code> est paramétré à <code class="docutils literal notranslate"><span class="pre">0</span></code> pour les méthodes qui attendent un corps (<code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, et <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>). Si <em>body</em> est une chaîne ou un objet de type octets qui n'est pas un (<a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">objet fichier</span></a>), l'en-tête <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> est paramétré à sa longueur. Un <em>body</em> de tout autre type (fichiers ou itérables en général) est encodé par morceaux et l'en-tête <code class="docutils literal notranslate"><span class="pre">Transfer-Encoding</span></code> est automatiquement paramétré à la place de <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>.</p>
<p>L'argument <em>encode_chunked</em> n'est pertinent que si l'en-tête <code class="docutils literal notranslate"><span class="pre">Transfer-Encoding:</span></code> est présent. Si <em>encode_chunked</em> est <code class="docutils literal notranslate"><span class="pre">False</span></code>, l'objet  HTTPConnection suppose que l'encodage est géré par le code d'appel. S'il vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, le corps est encodé par morceaux.</p>
<p>For example, to perform a <code class="docutils literal notranslate"><span class="pre">GET</span></code> request to <code class="docutils literal notranslate"><span class="pre">https://docs.python.org/3/</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;docs.python.org&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="n">host</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;/3/&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Host&quot;</span><span class="p">:</span> <span class="n">host</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">200 OK</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L'encodage pour les transferts par morceaux a été ajouté à la version 1.1 du protocole HTTP. À moins que le serveur HTTP sache gérer HTTP 1.1, l'appelant doit soit spécifier l'en-tête <code class="docutils literal notranslate"><span class="pre">Content-Length:</span></code>, soit passer la représentation du corps de message dans un objet de classe <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> ou un objet octet-compatible qui ne soit pas un fichier.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.2: </span><em>body</em> peut désormais être un itérable.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.6: </span>Si parmi les en-têtes ne figure ni <code class="docutils literal notranslate"><span class="pre">Content-Length:</span></code>, ni <code class="docutils literal notranslate"><span class="pre">Transfer-Encoding:</span></code>, les objets fichiers et itérables <em>body</em> sont désormais encodés par morceaux. L'argument <em>encode_chunked</em> a été ajouté. Aucune tentative n'est faite pour essayer de déterminer la valeur de l'en-tête <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> pour un objet fichier.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.getresponse">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">getresponse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.getresponse" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Doit être appelé après qu'une requête a été envoyée pour récupérer la réponse du serveur. Renvoie une instance de <a class="reference internal" href="#http.client.HTTPResponse" title="http.client.HTTPResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPResponse</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notez que la totalité de la réponse doit être lue avant de pouvoir envoyer une nouvelle requête au serveur.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.5: </span>Si une exception <a class="reference internal" href="exceptions.html#ConnectionError" title="ConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConnectionError</span></code></a> ou une de ses sous-classes est levée, l'objet de classe <a class="reference internal" href="#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> sera prêt à se reconnecter quand une nouvelle requête sera envoyée.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.set_debuglevel">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">set_debuglevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.set_debuglevel" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Règle le niveau de débogage. Le niveau de débogage par défaut est <code class="docutils literal notranslate"><span class="pre">0</span></code> (aucune sortie de débogage n'est affichée). Toute valeur plus grande que <code class="docutils literal notranslate"><span class="pre">0</span></code> provoque l'affichage sur <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> de toutes les sorties de débogage actuellement définies. Le paramètre <code class="docutils literal notranslate"><span class="pre">debuglevel</span></code> est passé à tout nouvel objet de classe <a class="reference internal" href="#http.client.HTTPResponse" title="http.client.HTTPResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPResponse</span></code></a> qui est créé.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.set_tunnel">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">set_tunnel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.set_tunnel" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Paramètre l'hôte et le port pour le tunnel de connexion HTTP. Il permet de réaliser la connexion au travers d'un serveur mandataire.</p>
<p>The <em>host</em> and <em>port</em> arguments specify the endpoint of the tunneled connection
(i.e. the address included in the CONNECT request, <em>not</em> the address of the
proxy server).</p>
<p>The <em>headers</em> argument should be a mapping of extra HTTP headers to send with
the CONNECT request.</p>
<p>As HTTP/1.1 is used for HTTP CONNECT tunnelling request, <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.6">as per the RFC</a>, a HTTP <code class="docutils literal notranslate"><span class="pre">Host:</span></code>
header must be provided, matching the authority-form of the request target
provided as the destination for the CONNECT request. If a HTTP <code class="docutils literal notranslate"><span class="pre">Host:</span></code>
header is not provided via the headers argument, one is generated and
transmitted automatically.</p>
<p>Par exemple, pour un tunnel traversant un serveur mandataire HTTPS accessible localement sur le port 8080, nous devons passer l'adresse du serveur mandataire au constructeur de la classe <a class="reference internal" href="#http.client.HTTPSConnection" title="http.client.HTTPSConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPSConnection</span></code></a>, en plus de l'éventuelle adresse de l'hôte que nous voulons atteindre, qui elle doit être passée à la méthode <a class="reference internal" href="#http.client.HTTPConnection.set_tunnel" title="http.client.HTTPConnection.set_tunnel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_tunnel()</span></code></a> :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">8080</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">set_tunnel</span><span class="p">(</span><span class="s2">&quot;www.python.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;HEAD&quot;</span><span class="p">,</span><span class="s2">&quot;/index.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.2.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.12: </span>HTTP CONNECT tunnelling requests use protocol HTTP/1.1, upgraded from
protocol HTTP/1.0. <code class="docutils literal notranslate"><span class="pre">Host:</span></code> HTTP headers are mandatory for HTTP/1.1, so
one will be automatically generated and transmitted if not provided in
the headers argument.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.get_proxy_response_headers">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">get_proxy_response_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.get_proxy_response_headers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Returns a dictionary with the headers of the response received from
the proxy server to the CONNECT request.</p>
<p>If the CONNECT request was not sent, the method returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.12.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.connect">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.connect" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Se connecte au serveur spécifié quand l'objet est créé. Par défaut, est appelée automatiquement lorsqu'une requête est faite alors que le client ne s'est pas connecté au préalable.</p>
<p class="audit-hook">Lève un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">évènement d'audit</span></a> <code class="docutils literal notranslate"><span class="pre">http.client.connect</span></code> contenant les arguments <code class="docutils literal notranslate"><span class="pre">self</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.close">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.close" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ferme la connexion au serveur.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPConnection.blocksize">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">blocksize</span></span><a class="headerlink" href="#http.client.HTTPConnection.blocksize" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Taille en octets du tampon utilisé pour transmettre un corps de message de type fichier.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<p>Plutôt que d'utiliser la méthode <code class="xref py py-meth docutils literal notranslate"><span class="pre">request()</span></code> décrite plus haut, il est également possible d'envoyer une requête étape par étape en utilisant les quatre fonctions ci-dessous.</p>
<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.putrequest">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">putrequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_accept_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.putrequest" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ce doit être le premier appel une fois que la connexion au serveur a été réalisée. Est envoyée au serveur une ligne consistant en la chaîne <em>method</em>, la chaîne d'<em>url</em>, et la version du protocole HTTP (<code class="docutils literal notranslate"><span class="pre">HTTP/1.1</span></code>). Pour désactiver l'envoi automatique des en-têtes <code class="docutils literal notranslate"><span class="pre">Host:</span></code> ou <code class="docutils literal notranslate"><span class="pre">Accept-Encoding:</span></code> (par exemple pour accepter des encodages supplémentaires de contenus), il est nécessaire de passer les paramètres <em>skip_host</em> ou <em>skip_accept_encoding</em> avec des valeurs différentes de <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.putheader">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">putheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.putheader" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Envoie un en-tête de style <span class="target" id="index-12"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> au serveur. Elle envoie au serveur une ligne regroupant un en-tête, une espace, un <code class="docutils literal notranslate"><span class="pre">:</span></code>, une espace et le premier argument. Si plusieurs arguments sont donnés, des lignes de continuation sont envoyées, chacune d'elle étant constituée d'une espace suivie d'un argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.endheaders">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">endheaders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message_body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_chunked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.endheaders" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Envoie une ligne blanche au serveur, signalant la fin des en-têtes. L'argument optionnel <em>message_body</em> peut-être utilisé pour passer le corps du message associé à la requête.</p>
<p>Si <em>encode_chunked</em> est <code class="docutils literal notranslate"><span class="pre">True</span></code>, le résultat de chaque itération sur <em>message_body</em> est un morceau encodé selon la <span class="target" id="index-13"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7230.html"><strong>RFC 7230</strong></a>, section 3.3.1. La façon dont les données sont encodées dépend du type de <em>message_body</em>. Si <em>message_body</em> implémente l'<a class="reference internal" href="../c-api/buffer.html#bufferobjects"><span class="std std-ref">interface tampon</span></a> l'encodage donne un unique morceau. Si <em>message_body</em> est un itérable de classe <a class="reference internal" href="collections.abc.html#collections.abc.Iterable" title="collections.abc.Iterable"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Iterable</span></code></a>, chaque itération sur <em>message_body</em> donne un morceau. Si <em>message_body</em> est un <a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">fichier objet</span></a>, chaque appel à <code class="docutils literal notranslate"><span class="pre">.read()</span></code> renvoie un morceau. La méthode signale automatiquement la fin des données encodées par morceaux immédiatement après <em>message_body</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Selon la spécification de l'encodage des morceaux, les morceaux vides renvoyés par un itérateur associé au corps du message sont ignorés par l'encodeur de morceaux. Ce comportement est choisi pour éviter que la lecture de la requête par le serveur cible ne se termine prématurément pour cause d'encodage mal formé.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.6: </span>Implémentation de l'encodage (pour les transferts) par morceaux. Le paramètre <em>encode_chunked</em> a été ajouté.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPConnection.send">
<span class="sig-prename descclassname"><span class="pre">HTTPConnection.</span></span><span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPConnection.send" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Envoie les données au serveur. Elle ne peut être utilisée directement qu'une fois la méthode <a class="reference internal" href="#http.client.HTTPConnection.endheaders" title="http.client.HTTPConnection.endheaders"><code class="xref py py-meth docutils literal notranslate"><span class="pre">endheaders()</span></code></a> a été appelée et avant que la méthode <a class="reference internal" href="#http.client.HTTPConnection.getresponse" title="http.client.HTTPConnection.getresponse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getresponse()</span></code></a> ait été appelée.</p>
<p class="audit-hook">Lève un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">évènement d'audit</span></a> <code class="docutils literal notranslate"><span class="pre">http.client.send</span></code> avec comme arguments <code class="docutils literal notranslate"><span class="pre">self</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
</dd></dl>

</section>
<section id="httpresponse-objects">
<span id="id2"></span><h2>Les objets HTTPResponse<a class="headerlink" href="#httpresponse-objects" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une instance de <a class="reference internal" href="#http.client.HTTPResponse" title="http.client.HTTPResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPResponse</span></code></a> encapsule la réponse HTTP du serveur. Elle fournit un accès aux en-têtes et au corps de la réponse. La réponse est un objet itérable pouvant être utilisé avec l'instruction <code class="docutils literal notranslate"><span class="pre">with</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Modifié dans la version 3.5: </span>L'interface de la classe <a class="reference internal" href="io.html#io.BufferedIOBase" title="io.BufferedIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.BufferedIOBase</span></code></a> est désormais implémentée et toutes ses opérations de lecture sont gérées.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.read">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">amt</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.read" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lit et renvoie soit tout le corps de la réponse soit une partie de celui-ci se limitant aux <em>amt</em> octets suivants.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.readinto">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">readinto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.readinto" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lit les prochains <code class="docutils literal notranslate"><span class="pre">len(b)</span></code> octets du corps de la réponse et les place dans le tampon <em>b</em>. Renvoie le nombre d'octets lus.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nouveau dans la version 3.3.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.getheader">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">getheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.getheader" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the value of the header <em>name</em>, or <em>default</em> if there is no header
matching <em>name</em>.  If there is more than one  header with the name <em>name</em>,
return all of the values joined by ', '.  If <em>default</em> is any iterable other
than a single string, its elements are similarly returned joined by commas.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.getheaders">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">getheaders</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.getheaders" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie une liste d'<em>n</em>-uplets <code class="docutils literal notranslate"><span class="pre">(en-tête,</span> <span class="pre">valeur)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.fileno">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">fileno</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.fileno" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le <code class="docutils literal notranslate"><span class="pre">fileno</span></code> du connecteur réseau sous-jacent.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.msg">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">msg</span></span><a class="headerlink" href="#http.client.HTTPResponse.msg" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une instance de <code class="xref py py-class docutils literal notranslate"><span class="pre">http.client.HTTPMessage</span></code> contenant les en-têtes de la réponse. La classe <code class="xref py py-class docutils literal notranslate"><span class="pre">http.client.HTTPMessage</span></code> est une sous-classe de la classe <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.Message</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.version">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#http.client.HTTPResponse.version" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La version du protocole HTTP utilisée par le serveur : 10 pour HTTP/1.0, 11 pour HTTP/1.1.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.url">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">url</span></span><a class="headerlink" href="#http.client.HTTPResponse.url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>L'URL de la ressource récupérée, utilisée habituellement pour déterminer si une redirection a été suivie.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.headers">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">headers</span></span><a class="headerlink" href="#http.client.HTTPResponse.headers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Les en-têtes de la réponse sous la forme d'une instance de <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.EmailMessage</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.status">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#http.client.HTTPResponse.status" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Code d'état renvoyé par le serveur.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.reason">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">reason</span></span><a class="headerlink" href="#http.client.HTTPResponse.reason" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Phrase renvoyée par le serveur et indiquant la cause.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.debuglevel">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">debuglevel</span></span><a class="headerlink" href="#http.client.HTTPResponse.debuglevel" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un point d'entrée pour débogage. Si <a class="reference internal" href="#http.client.HTTPResponse.debuglevel" title="http.client.HTTPResponse.debuglevel"><code class="xref py py-attr docutils literal notranslate"><span class="pre">debuglevel</span></code></a> est plus grand que zéro, les messages sont envoyés à <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> pendant la lecture et l'analyse de la réponse.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="http.client.HTTPResponse.closed">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#http.client.HTTPResponse.closed" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> si le flux est terminé.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.geturl">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">geturl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.geturl" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Obsolète depuis la version 3.9: </span>Rendu obsolète par <a class="reference internal" href="#http.client.HTTPResponse.url" title="http.client.HTTPResponse.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.info">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.info" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Obsolète depuis la version 3.9: </span>Rendu obsolète par <a class="reference internal" href="#http.client.HTTPResponse.headers" title="http.client.HTTPResponse.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">headers</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="http.client.HTTPResponse.getcode">
<span class="sig-prename descclassname"><span class="pre">HTTPResponse.</span></span><span class="sig-name descname"><span class="pre">getcode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.client.HTTPResponse.getcode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Obsolète depuis la version 3.9: </span>Rendu obsolète par <a class="reference internal" href="#http.client.HTTPResponse.status" title="http.client.HTTPResponse.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status</span></code></a>.</p>
</div>
</dd></dl>

</section>
<section id="examples">
<h2>Exemples<a class="headerlink" href="#examples" title="Lien permanent vers ce titre">¶</a></h2>
<p>Voici un exemple de session utilisant la méthode <code class="docutils literal notranslate"><span class="pre">GET</span></code> :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;www.python.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">r1</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">200 OK</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">r1</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># This will return entire content.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The following example demonstrates reading data in chunks.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">chunk</span> <span class="o">:=</span> <span class="n">r1</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">chunk</span><span class="p">))</span>
<span class="go">b&#39;&lt;!doctype html&gt;\n&lt;!--[if&quot;...</span>
<span class="go">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example of an invalid request</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;docs.python.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;/parrot.spam&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">r2</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">404 Not Found</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">r2</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Voici un exemple de session utilisant la méthode  <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.  Notez que la méthode <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> ne renvoie jamais de données.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;www.python.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;HEAD&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">200 OK</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here is an example session that uses the <code class="docutils literal notranslate"><span class="pre">POST</span></code> method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span><span class="o">,</span> <span class="nn">urllib.parse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">({</span><span class="s1">&#39;@number&#39;</span><span class="p">:</span> <span class="mi">12524</span><span class="p">,</span> <span class="s1">&#39;@type&#39;</span><span class="p">:</span> <span class="s1">&#39;issue&#39;</span><span class="p">,</span> <span class="s1">&#39;@action&#39;</span><span class="p">:</span> <span class="s1">&#39;show&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s2">&quot;bugs.python.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">302 Found</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">b&#39;Redirecting to &lt;a href=&quot;https://bugs.python.org/issue12524&quot;&gt;https://bugs.python.org/issue12524&lt;/a&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Client side HTTP <code class="docutils literal notranslate"><span class="pre">PUT</span></code> requests are very similar to <code class="docutils literal notranslate"><span class="pre">POST</span></code> requests. The
difference lies only on the server side where HTTP servers will allow resources to
be created via <code class="docutils literal notranslate"><span class="pre">PUT</span></code> requests. It should be noted that custom HTTP methods
are also handled in <a class="reference internal" href="urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">urllib.request.Request</span></code></a> by setting the appropriate
method attribute. Here is an example session that uses the <code class="docutils literal notranslate"><span class="pre">PUT</span></code> method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># This creates an HTTP request</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># with the content of BODY as the enclosed representation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># for the resource http://localhost:8080/file</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">http.client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BODY</span> <span class="o">=</span> <span class="s2">&quot;***filecontents***&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">8080</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="s2">&quot;/file&quot;</span><span class="p">,</span> <span class="n">BODY</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
<span class="go">200, OK</span>
</pre></div>
</div>
</section>
<section id="httpmessage-objects">
<span id="id3"></span><h2>Les objets HTTPMessage<a class="headerlink" href="#httpmessage-objects" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une instance de classe <code class="xref py py-class docutils literal notranslate"><span class="pre">http.client.HTTPMessage</span></code> contient les en-têtes d'une réponse HTTP. Elle est implémentée en utilisant la classe <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.Message</span></code></a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code> — Client pour le protocole HTTP</a><ul>
<li><a class="reference internal" href="#httpconnection-objects">Les objets HTTPConnection</a></li>
<li><a class="reference internal" href="#httpresponse-objects">Les objets HTTPResponse</a></li>
<li><a class="reference internal" href="#examples">Exemples</a></li>
<li><a class="reference internal" href="#httpmessage-objects">Les objets HTTPMessage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="http.html"
                          title="Chapitre précédent"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http</span></code> — modules HTTP</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="ftplib.html"
                          title="Chapitre suivant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ftplib</span></code> — Le protocole client FTP</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/http.client.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="ftplib.html" title="ftplib — Le protocole client FTP"
             >suivant</a> |</li>
        <li class="right" >
          <a href="http.html" title="http — modules HTTP"
             >précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La bibliothèque standard</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >Gestion des protocoles internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code> — Client pour le protocole HTTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Mis à jour le oct. 26, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>